

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Constitutional Prompting &#8212; Jupyter Book Demo</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'index';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
    <p class="title logo__title">Jupyter Book Demo</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Constitutional Prompting
                </a>
            </li>
        </ul>
        
    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/dan-kwiat/cai-prompt/blob/main/index.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/dan-kwiat/cai-prompt" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/dan-kwiat/cai-prompt/issues/new?title=Issue%20on%20page%20%2Findex.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/index.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Constitutional Prompting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-0-generate-concepts">Step 0: Generate concepts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-generate-naive-responses">Step 1: Generate naive responses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-critique">Step 2: Critique</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-rewrite">Step 3: Rewrite</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-training-a-model">Step 4: Training a model</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="constitutional-prompting">
<h1>Constitutional Prompting<a class="headerlink" href="#constitutional-prompting" title="Permalink to this heading">#</a></h1>
<p>Using techniques from <a class="reference external" href="https://arxiv.org/abs/2212.08073">Constitutional AI</a> to generate effective prompts for an AI acting as a Copy Editor.</p>
<p>We’ll be using this <code class="docutils literal notranslate"><span class="pre">Prompt</span></code> class throughout:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %load ./prompt.py</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">anthropic</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="n">load_dotenv</span><span class="p">()</span>


<span class="n">anthropic_client</span> <span class="o">=</span> <span class="n">anthropic</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;ANTHROPIC_API_KEY&#39;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">claude_v1_0</span> <span class="o">=</span> <span class="s2">&quot;claude-v1.0&quot;</span>
    <span class="n">claude_v1_2</span> <span class="o">=</span> <span class="s2">&quot;claude-v1.2&quot;</span>
    <span class="n">claude_v1_3</span> <span class="o">=</span> <span class="s2">&quot;claude-v1.3&quot;</span>
    <span class="n">claude_v1_3_100k</span> <span class="o">=</span> <span class="s2">&quot;claude-v1.3-100k&quot;</span>
    <span class="n">claude_v1_latest</span> <span class="o">=</span> <span class="s2">&quot;claude-v1&quot;</span>
    <span class="n">claude_v1_latest_100k</span> <span class="o">=</span> <span class="s2">&quot;claude-v1-100k&quot;</span>
    <span class="n">claude_instant_v1_0</span> <span class="o">=</span> <span class="s2">&quot;claude-instant-v1.0&quot;</span>
    <span class="n">claude_instant_v1_1</span> <span class="o">=</span> <span class="s2">&quot;claude-instant-v1.1&quot;</span>
    <span class="n">claude_instant_v1_1_100k</span> <span class="o">=</span> <span class="s2">&quot;claude-instant-v1.1-100k&quot;</span>
    <span class="n">claude_instant_v1_latest</span> <span class="o">=</span> <span class="s2">&quot;claude-instant-v1&quot;</span>
    <span class="n">claude_instant_v1_latest_100k</span> <span class="o">=</span> <span class="s2">&quot;claude-instant-v1-100k&quot;</span>


<span class="k">class</span> <span class="nc">Prompt</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">human_message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">Model</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">claude_v1_latest</span><span class="p">,</span>
        <span class="n">temp_0_1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="n">max_tokens_to_sample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">,</span>
        <span class="n">assistant_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">response_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">human_message</span> <span class="o">=</span> <span class="n">human_message</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temp_0_1</span> <span class="o">=</span> <span class="n">temp_0_1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_tokens_to_sample</span> <span class="o">=</span> <span class="n">max_tokens_to_sample</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assistant_prefix</span> <span class="o">=</span> <span class="n">assistant_prefix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">response_prefix</span> <span class="o">=</span> <span class="n">response_prefix</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">anthropic</span><span class="o">.</span><span class="n">HUMAN_PROMPT</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">human_message</span><span class="si">}{</span><span class="n">anthropic</span><span class="o">.</span><span class="n">AI_PROMPT</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">assistant_prefix</span><span class="p">:</span>
            <span class="n">prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">assistant_prefix</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">return</span> <span class="n">prompt</span>

    <span class="k">def</span> <span class="nf">get_response</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">anthropic_client</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span>
            <span class="n">prompt</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">prompt</span><span class="p">,</span>
            <span class="n">stop_sequences</span><span class="o">=</span><span class="p">[</span><span class="n">anthropic</span><span class="o">.</span><span class="n">HUMAN_PROMPT</span><span class="p">],</span>
            <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">max_tokens_to_sample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">max_tokens_to_sample</span><span class="p">,</span>
            <span class="n">temperature</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">temp_0_1</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;completion&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">response_prefix</span><span class="p">:</span>
            <span class="c1"># This is often useful to clean up after we&#39;ve used `assistant_prefix` e.g. to start a numbered list of items.</span>
            <span class="n">text</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">response_prefix</span><span class="si">}{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</div>
</div>
<p>And here are the prompts and constitution rules we’ll be using. Don’t worry about understanding them yet, we’ll go through them step-by-step after this code block.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Model</span><span class="o">.</span><span class="n">claude_instant_v1_latest</span>

<span class="n">num_samples</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># These are best practices for prompts (aka instructions) intended for a Copy Editor AI agent:</span>
<span class="n">constitution_rules</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Instructions must explicitly describe the tone that the editor adopts.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Instructions must explicitly reference the article content at the beginning, for example </span><span class="se">\&quot;</span><span class="s2">Here is an article:</span><span class="se">\n\n</span><span class="s2">&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;</span><span class="se">\n\n</span><span class="s2">...</span><span class="se">\&quot;</span><span class="s2">.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Instructions which are complicated should be broken down into numbered subtasks.&quot;</span><span class="p">,]</span>
<span class="n">constitution_str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">constitution_rules</span><span class="p">)))</span>


<span class="k">def</span> <span class="nf">get_concepts_prompt</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Prompt</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Prompt</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">temp_0_1</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
        <span class="n">human_message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Generate a list of </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2"> tasks that a Copy Editor might do as part of their job, given a written article. The output of each completed task should be written text. Write each task on a separate, numbered line.&quot;</span><span class="p">,</span>
        <span class="n">assistant_prefix</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Here are </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2"> tasks:</span><span class="se">\n\n</span><span class="s2">1.&quot;</span><span class="p">,</span>
        <span class="n">response_prefix</span><span class="o">=</span><span class="s2">&quot;1.&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">def</span> <span class="nf">get_naive_response_prompt</span><span class="p">(</span><span class="n">concept</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Prompt</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Prompt</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">temp_0_1</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
        <span class="n">human_message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;I have an AI agent which acts as a Copy Editor and I want it to complete the following task:</span>

<span class="s2">&lt;task&gt;</span>
<span class="si">{</span><span class="n">concept</span><span class="si">}</span>
<span class="s2">&lt;/task&gt;</span>

<span class="s2">The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">def</span> <span class="nf">get_naive_response_prompt_with_constitution</span><span class="p">(</span><span class="n">concept</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Prompt</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Prompt</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">temp_0_1</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
        <span class="n">human_message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;I have an AI agent which acts as a Copy Editor and I want it to complete the following task:</span>

<span class="s2">&lt;task&gt;</span>
<span class="si">{</span><span class="n">concept</span><span class="si">}</span>
<span class="s2">&lt;/task&gt;</span>

<span class="s2">The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. The instruction must abide by the following rules:</span>

<span class="s2">&lt;rules&gt;</span>
<span class="si">{</span><span class="n">constitution_str</span><span class="si">}</span>
<span class="s2">&lt;/rules&gt;</span>

<span class="s2">Don&#39;t include any preamble, just respond directly with the instruction for the agent.&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">def</span> <span class="nf">get_critique_prompt</span><span class="p">(</span><span class="n">naive_response</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Prompt</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Prompt</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">temp_0_1</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
        <span class="n">human_message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Here is an instruction to an AI agent which acts as a Copy Editor:</span>

<span class="s2">&lt;instruction&gt;</span>
<span class="si">{</span><span class="n">naive_response</span><span class="si">}</span>
<span class="s2">&lt;/instruction&gt;</span>

<span class="s2">There may be some problems with this instruction. In particular, the instruction must abide by the following rules:</span>

<span class="s2">&lt;rules&gt;</span>
<span class="si">{</span><span class="n">constitution_str</span><span class="si">}</span>
<span class="s2">&lt;/rules&gt;</span>

<span class="s2">List each rule that the instruction breaks. State the rule verbatim, then describe how the instruction breaks the rule.</span>

<span class="s2">For example, if the instruction breaks rule 1, you would write:</span>

<span class="s2">The instruction breaks the following rules:</span>
<span class="s2">1.</span>
<span class="s2">&lt;rule&gt;</span><span class="si">{</span><span class="n">constitution_rules</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/rule&gt;</span>
<span class="s2">&lt;reason&gt;[Reason for breaking rule 1]&lt;/reason&gt;&quot;&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span>


<span class="k">def</span> <span class="nf">get_rewrite_prompt</span><span class="p">(</span><span class="n">naive_response</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">critique</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Prompt</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">Prompt</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
        <span class="n">temp_0_1</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
        <span class="n">human_message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&quot;&quot;Here is an instruction to an AI agent which acts as a Copy Editor:</span>

<span class="s2">&lt;instruction&gt;</span>
<span class="si">{</span><span class="n">naive_response</span><span class="si">}</span>
<span class="s2">&lt;/instruction&gt;</span>

<span class="s2">The instruction is supposed to follow certain rules, but it breaks them as follows:</span>

<span class="s2">&lt;issues&gt;</span>
<span class="si">{</span><span class="n">critique</span><span class="si">}</span>
<span class="s2">&lt;/issues&gt;</span>

<span class="s2">Rewrite the instruction to address these issues. Do not enclose your answer in &lt;instruction&gt; tags.&quot;&quot;&quot;</span><span class="p">,</span>
        <span class="n">assistant_prefix</span><span class="o">=</span><span class="s2">&quot;Here is the rewritten instruction:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="step-0-generate-concepts">
<h2>Step 0: Generate concepts<a class="headerlink" href="#step-0-generate-concepts" title="Permalink to this heading">#</a></h2>
<p>Before we get started on trying to generate prompts, let’s first think of some tasks we might want a Copy Editor to carry out. We’ll run a simple prompt to get a list of example tasks:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">concepts_prompt</span> <span class="o">=</span> <span class="n">get_concepts_prompt</span><span class="p">(</span><span class="n">num_samples</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;PROMPT:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">concepts_prompt</span><span class="o">.</span><span class="n">prompt</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="n">concepts_string</span> <span class="o">=</span> <span class="n">concepts_prompt</span><span class="o">.</span><span class="n">get_response</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TASKS:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">concepts_string</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PROMPT:

===


Human: Generate a list of 5 tasks that a Copy Editor might do as part of their job, given a written article. The output of each completed task should be written text. Write each task on a separate, numbered line.

Assistant: Here are 5 tasks:

1.
===

TASKS:

===
1. Check spelling and grammar.
2. Verify consistency of style and terminology. 
3. Check facts and figures cited in the article for accuracy. 
4. Recommend structural edits to improve clarity and flow.
5. Suggest word choice improvements for conciseness and precision.
===
</pre></div>
</div>
</div>
</div>
<p>Now let’s get these items into a list:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>


<span class="k">def</span> <span class="nf">extract_items</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">stripped</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">stripped</span> <span class="ow">and</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d+\.\s&#39;</span><span class="p">,</span> <span class="n">stripped</span><span class="p">):</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d+\.\s&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">stripped</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">items</span>


<span class="n">concepts</span> <span class="o">=</span> <span class="n">extract_items</span><span class="p">(</span><span class="n">concepts_string</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span> <span class="o">!=</span> <span class="n">num_samples</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Expected </span><span class="si">{</span><span class="n">num_samples</span><span class="si">}</span><span class="s2"> concepts, but got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span><span class="si">}</span><span class="s2"> concepts&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Got 5 concepts
[&#39;Check spelling and grammar. Ensure all spelling is correct and sentences are grammatically correct.&#39;, &#39;Check consistency of style. Ensure the article follows consistent style guidelines for punctuation, capitalization, abbreviations, etc.&#39;, &#39;Verify facts and quotations. Check that any facts, statistics, dates, names and quotations used in the article are accurate.&#39;, &quot;Make sure word choice is precise. Review word choice to confirm the author&#39;s intended meaning comes through clearly. Suggest alternative phrasing where needed.&quot;, &#39;Propose structural edits. Recommend cuts or reorganization of content to improve clarity and flow.&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-1-generate-naive-responses">
<h2>Step 1: Generate naive responses<a class="headerlink" href="#step-1-generate-naive-responses" title="Permalink to this heading">#</a></h2>
<p>First we’ll try our hand at asking the LLM to write prompts for us, given a task, and without much guidance.</p>
<blockquote>
<div><p><strong>Terminology</strong> - here we’re prompting an LLM to generate prompts, which is confusing. We’ll use the word “prompt” to refer to the initial input, and “response” to refer to the output</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;EXAMPLE PROMPT:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">get_naive_response_prompt</span><span class="p">(</span><span class="n">concepts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">prompt</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EXAMPLE PROMPT:

===


Human: I have an AI agent which acts as a Copy Editor and I want it to complete the following task:

&lt;task&gt;
Check spelling and grammar. Ensure all spelling is correct and sentences are grammatically correct.
&lt;/task&gt;

The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.

Assistant:
===
</pre></div>
</div>
</div>
</div>
<p>Let’s execute a prompt like the above, for each of our Copy Editor tasks:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Anthropic does not allow concurrent requests, so we have to do this sequentially:</span>
<span class="n">naive_responses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">concept</span> <span class="ow">in</span> <span class="n">concepts</span><span class="p">:</span>
    <span class="n">naive_responses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_naive_response_prompt</span><span class="p">(</span><span class="n">concept</span><span class="p">)</span><span class="o">.</span><span class="n">get_response</span><span class="p">())</span>

<span class="n">tasksResponsesString</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n\n</span><span class="s2">===</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;TASK:</span><span class="se">\n</span><span class="si">{</span><span class="n">task</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">NAIVE RESPONSE:</span><span class="se">\n</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">task</span><span class="p">,</span> <span class="n">response</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">concepts</span><span class="p">,</span> <span class="n">naive_responses</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tasksResponsesString</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TASK:
Check spelling and grammar. Ensure all spelling is correct and sentences are grammatically correct.

NAIVE RESPONSE:
 Check all spelling and grammar, correcting any errors found.


===


TASK:
Check consistency of style. Ensure the article follows consistent style guidelines for punctuation, capitalization, abbreviations, etc.

NAIVE RESPONSE:
 Check the article and ensure consistent style throughout for:

- Punctuation
- Capitalization
- Abbreviations


===


TASK:
Verify facts and quotations. Check that any facts, statistics, dates, names and quotations used in the article are accurate.

NAIVE RESPONSE:
 Verify that all facts, statistics, dates, names and quotations used in the article are accurate and correct.


===


TASK:
Make sure word choice is precise. Review word choice to confirm the author&#39;s intended meaning comes through clearly. Suggest alternative phrasing where needed.

NAIVE RESPONSE:
 Revise word choice for precision and clarity, recommending alternatives where needed.


===


TASK:
Propose structural edits. Recommend cuts or reorganization of content to improve clarity and flow.

NAIVE RESPONSE:
 Revise the text structure and organization. Suggest cuts or reordering of paragraphs to improve clarity and readability.
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-critique">
<h2>Step 2: Critique<a class="headerlink" href="#step-2-critique" title="Permalink to this heading">#</a></h2>
<p>As you can see, the naive responses above are quite similar to the original wordings of the tasks, sometimes with a bit more detail. Let’s see how closely they follow the constitution rules we defined i.e. best practices for prompt design.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;EXAMPLE PROMPT:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">get_critique_prompt</span><span class="p">(</span><span class="n">naive_responses</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">prompt</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EXAMPLE PROMPT:

===


Human: Here is an instruction to an AI agent which acts as a Copy Editor:

&lt;instruction&gt;
 Check all spelling and grammar, correcting any errors found.
&lt;/instruction&gt;

There may be some problems with this instruction. In particular, the instruction must abide by the following rules:

&lt;rules&gt;
1. Instructions must explicitly describe the tone that the editor adopts.
2. Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.
3. Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:

&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;

...&quot;.
4. Instructions which are complicated should be broken down into numbered subtasks.
&lt;/rules&gt;

List each rule that the instruction breaks. State the rule verbatim, then describe how the instruction breaks the rule.

For example, if the instruction breaks rule 1, you would write:

The instruction breaks the following rules:
1.
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;
&lt;reason&gt;[Reason for breaking rule 1]&lt;/reason&gt;

Assistant:
===
</pre></div>
</div>
</div>
</div>
<p>Let’s execute a critique prompt like this on each of the naive responses:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">critiques</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">naive_response</span> <span class="ow">in</span> <span class="n">naive_responses</span><span class="p">:</span>
    <span class="n">critiques</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_critique_prompt</span><span class="p">(</span><span class="n">naive_response</span><span class="p">)</span><span class="o">.</span><span class="n">get_response</span><span class="p">())</span>

<span class="n">responseCritiqueString</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n\n</span><span class="s2">===</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;NAIVE RESPONSE:</span><span class="se">\n</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">CRITIQUE:</span><span class="se">\n</span><span class="si">{</span><span class="n">critique</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">response</span><span class="p">,</span> <span class="n">critique</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">naive_responses</span><span class="p">,</span> <span class="n">critiques</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">responseCritiqueString</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NAIVE RESPONSE:
 Check all spelling and grammar, correcting any errors found.

CRITIQUE:
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;  
&lt;reason&gt;The instruction does not describe the tone that the editor should adopt.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;
&lt;reason&gt; The instruction does not state the number of words the editor&#39;s response should be.&lt;/reason&gt;

3.
&lt;rule&gt;Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:
&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;
...&quot;.&lt;/rule&gt;
&lt;reason&gt;The instruction does not reference any article content.&lt;/reason&gt;

4. &lt;rule&gt;Instructions which are complicated should be broken down into numbered subtasks.&lt;/rule&gt;
 &lt;reason&gt;The instruction consists of a single task and is not broken down into subtasks, though it could benefit from being divided into checking spelling, grammar, and correcting errors.&lt;/reason&gt;


===


NAIVE RESPONSE:
 Check the article and ensure consistent style throughout for:

- Punctuation
- Capitalization
- Abbreviations

CRITIQUE:
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;
&lt;reason&gt;The instruction does not specify the tone that the editor should adopt.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;    
&lt;reason&gt;The instruction does not specify the number of words in the editor&#39;s response.&lt;/reason&gt;

3.
&lt;rule&gt;Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:
&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt; ...&quot;.&lt;/rule&gt;
&lt;reason&gt;The instruction does not reference any specific article content.&lt;/reason&gt;

4. 
&lt;rule&gt;Instructions which are complicated should be broken down into numbered subtasks.&lt;/rule&gt;
&lt;reason&gt;The instruction lists three separate tasks without numbering them.&lt;/reason&gt;


===


NAIVE RESPONSE:
 Verify that all facts, statistics, dates, names and quotations used in the article are accurate and correct.

CRITIQUE:
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;  
&lt;reason&gt;The instruction does not explicitly describe the tone that the editor should adopt.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;
&lt;reason&gt; The instruction does not state the number of words for the editor&#39;s response.&lt;/reason&gt;

3.
&lt;rule&gt;Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:
&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt; ...&quot;.&lt;/rule&gt;
&lt;reason&gt;The instruction does not reference any specific article content.&lt;/reason&gt;


===


NAIVE RESPONSE:
 Revise word choice for precision and clarity, recommending alternatives where needed.

CRITIQUE:
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;  
&lt;reason&gt;The instruction does not describe the tone that the editor should adopt.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;
&lt;reason&gt;The instruction does not state the number of words the editor&#39;s response should contain.&lt;/reason&gt;

3.
&lt;rule&gt;Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:  
 &lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;...&quot;.&lt;/rule&gt;
&lt;reason&gt;The instruction does not reference any article content.&lt;/reason&gt;


===


NAIVE RESPONSE:
 Revise the text structure and organization. Suggest cuts or reordering of paragraphs to improve clarity and readability.

CRITIQUE:
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;
&lt;reason&gt;The instruction does not specify the tone that the editor should adopt when revising the text.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;    
&lt;reason&gt; The instruction does not specify the word count for the editor&#39;s response.&lt;/reason&gt;

3.
&lt;rule&gt;Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:

&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;
...&quot;.&lt;/rule&gt;
&lt;reason&gt;The instruction does not provide any article content that the editor should revise.&lt;/reason&gt;

4. This rule is not broken.
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-3-rewrite">
<h2>Step 3: Rewrite<a class="headerlink" href="#step-3-rewrite" title="Permalink to this heading">#</a></h2>
<p>So the naive responses broke every rule in our constitution. Let’s rewrite the responses, using the critiques above as context for our rewriter.</p>
<p>Here’s what an example rewrite prompt looks like:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;EXAMPLE PROMPT:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">get_rewrite_prompt</span><span class="p">(</span><span class="n">naive_responses</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">critiques</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">prompt</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>EXAMPLE PROMPT:

===


Human: Here is an instruction to an AI agent which acts as a Copy Editor:

&lt;instruction&gt;
 Check all spelling and grammar, correcting any errors found.
&lt;/instruction&gt;

The instruction is supposed to follow certain rules, but it breaks them as follows:

&lt;issues&gt;
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;  
&lt;reason&gt;The instruction does not describe the tone that the editor should adopt.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;
&lt;reason&gt; The instruction does not state the number of words the editor&#39;s response should be.&lt;/reason&gt;

3.
&lt;rule&gt;Instructions must explicitly reference the article content at the beginning, for example &quot;Here is an article:
&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;
...&quot;.&lt;/rule&gt;
&lt;reason&gt;The instruction does not reference any article content.&lt;/reason&gt;

4. &lt;rule&gt;Instructions which are complicated should be broken down into numbered subtasks.&lt;/rule&gt;
 &lt;reason&gt;The instruction consists of a single task and is not broken down into subtasks, though it could benefit from being divided into checking spelling, grammar, and correcting errors.&lt;/reason&gt;
&lt;/issues&gt;

Rewrite the instruction to address these issues. Do not enclose your answer in &lt;instruction&gt; tags.

Assistant: Here is the rewritten instruction:


===
</pre></div>
</div>
</div>
</div>
<p>Now let’s execute the rewrite prompt on each of the naive responses (with the relevant critique inserted):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rewrites</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">naive_response</span><span class="p">,</span> <span class="n">critique</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">naive_responses</span><span class="p">,</span> <span class="n">critiques</span><span class="p">)):</span>
    <span class="n">rewrites</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">get_rewrite_prompt</span><span class="p">(</span><span class="n">naive_response</span><span class="p">,</span> <span class="n">critique</span><span class="p">)</span><span class="o">.</span><span class="n">get_response</span><span class="p">())</span>

<span class="n">rewriteString</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n\n\n</span><span class="s2">===</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
    <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;NAIVE RESPONSE:</span><span class="se">\n</span><span class="si">{</span><span class="n">response</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">REWRITE:</span><span class="se">\n</span><span class="si">{</span><span class="n">rewrite</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">response</span><span class="p">,</span> <span class="n">rewrite</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">naive_responses</span><span class="p">,</span> <span class="n">rewrites</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rewriteString</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NAIVE RESPONSE:
 Check all spelling and grammar, correcting any errors found.

REWRITE:
 Check all spelling and grammar, correcting any errors found in a polite and professional tone. Provide corrections in under 100 words.  

Here is an article:  

&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;

1. Check the spelling of all words in the article. Flag any words that appear to be misspelled.

2. Check the grammar and syntax throughout the article. Make note of any sentences that are unclear, awkward or grammatically incorrect.  

3. Correct any spelling and grammar issues you identified. Replace misspelled words with the correct spelling and reword unclear or incorrect sentences as needed.


===


NAIVE RESPONSE:
 Check the article and ensure consistent style throughout for:

- Punctuation
- Capitalization
- Abbreviations

REWRITE:
 Check the article:  

1. Ensure a consistent and professional yet straightforward tone throughout the article for:

a) Punctuation - Correct and standardize the punctuation to be consistent and appropriate    
b) Capitalization - Ensure proper use of capital letters at the beginning of sentences and for proper nouns    
c) Abbreviations - Spell out all abbreviations on first use and thereafter use standard abbreviations  

Write a 100-120 word summary of the key changes made to the style and consistency of the article.


===


NAIVE RESPONSE:
 Verify that all facts, statistics, dates, names and quotations used in the article are accurate and correct.

REWRITE:
 The editor should adopt a professional and polite tone. Verify the facts, statistics, dates, names and quotations used in the following 500-800 word article:   

[ARTICLE_CONTENT]

Check that all information is accurate and correct. The editor&#39;s response should be a maximum of 150 words summarizing any inaccuracies found and recommendations for corrections.


===


NAIVE RESPONSE:
 Revise word choice for precision and clarity, recommending alternatives where needed.

REWRITE:
 Revise word choice for precision and clarity in a polite and professional tone, recommending no more than 3 alternatives per revision in up to 50 words total. Here is an article:  
 &lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt; Revise word choice within the article as needed, favoring simple, specific language.


===


NAIVE RESPONSE:
 Revise the text structure and organization. Suggest cuts or reordering of paragraphs to improve clarity and readability.

REWRITE:
 Revise the text structure and organization with a polite and professional tone. Suggest up to 200 word summary of cuts or reordering of paragraphs that could improve clarity and readability. Here is an article:  

&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;

Revise the article accordingly.
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-4-training-a-model">
<h2>Step 4: Training a model<a class="headerlink" href="#step-4-training-a-model" title="Permalink to this heading">#</a></h2>
<p>The rewritten responses are much better, generally following every best practice in the constitution rules. These responses, at scale, could serve as useful data for training a model to be good at writing prompts. Let’s mimic this concept using few-shot prompting. We’ll use the first <code class="docutils literal notranslate"><span class="pre">n-1</span></code> tasks + rewrites from above as examples, and we’ll try to generate a decent response off the bat for <code class="docutils literal notranslate"><span class="pre">nth</span></code> task, without referencing the constitution rules. Here’s the prompt we’ll use:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">few_shot_prompt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">concept</span><span class="p">,</span> <span class="n">rewrite</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">concepts</span><span class="p">,</span> <span class="n">rewrites</span><span class="p">)):</span>
    <span class="n">few_shot_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">anthropic</span><span class="o">.</span><span class="n">HUMAN_PROMPT</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">get_naive_response_prompt</span><span class="p">(</span><span class="n">concept</span><span class="p">)</span><span class="o">.</span><span class="n">human_message</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">few_shot_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">anthropic</span><span class="o">.</span><span class="n">AI_PROMPT</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">few_shot_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">rewrite</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nb">print</span><span class="p">(</span><span class="n">few_shot_prompt</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Human: I have an AI agent which acts as a Copy Editor and I want it to complete the following task:

&lt;task&gt;
Check spelling and grammar. Ensure all spelling is correct and sentences are grammatically correct.
&lt;/task&gt;

The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.

Assistant:  Check all spelling and grammar, correcting any errors found in a polite and professional tone. Provide corrections in under 100 words.  

Here is an article:  

&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;

1. Check the spelling of all words in the article. Flag any words that appear to be misspelled.

2. Check the grammar and syntax throughout the article. Make note of any sentences that are unclear, awkward or grammatically incorrect.  

3. Correct any spelling and grammar issues you identified. Replace misspelled words with the correct spelling and reword unclear or incorrect sentences as needed.

Human: I have an AI agent which acts as a Copy Editor and I want it to complete the following task:

&lt;task&gt;
Check consistency of style. Ensure the article follows consistent style guidelines for punctuation, capitalization, abbreviations, etc.
&lt;/task&gt;

The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.

Assistant:  Check the article:  

1. Ensure a consistent and professional yet straightforward tone throughout the article for:

a) Punctuation - Correct and standardize the punctuation to be consistent and appropriate    
b) Capitalization - Ensure proper use of capital letters at the beginning of sentences and for proper nouns    
c) Abbreviations - Spell out all abbreviations on first use and thereafter use standard abbreviations  

Write a 100-120 word summary of the key changes made to the style and consistency of the article.

Human: I have an AI agent which acts as a Copy Editor and I want it to complete the following task:

&lt;task&gt;
Verify facts and quotations. Check that any facts, statistics, dates, names and quotations used in the article are accurate.
&lt;/task&gt;

The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.

Assistant:  The editor should adopt a professional and polite tone. Verify the facts, statistics, dates, names and quotations used in the following 500-800 word article:   

[ARTICLE_CONTENT]

Check that all information is accurate and correct. The editor&#39;s response should be a maximum of 150 words summarizing any inaccuracies found and recommendations for corrections.

Human: I have an AI agent which acts as a Copy Editor and I want it to complete the following task:

&lt;task&gt;
Make sure word choice is precise. Review word choice to confirm the author&#39;s intended meaning comes through clearly. Suggest alternative phrasing where needed.
&lt;/task&gt;

The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.

Assistant:  Revise word choice for precision and clarity in a polite and professional tone, recommending no more than 3 alternatives per revision in up to 50 words total. Here is an article:  
 &lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt; Revise word choice within the article as needed, favoring simple, specific language.

Human: I have an AI agent which acts as a Copy Editor and I want it to complete the following task:

&lt;task&gt;
Propose structural edits. Recommend cuts or reorganization of content to improve clarity and flow.
&lt;/task&gt;

The agent only responds with written text. Write a concise instruction for the agent, asking it to complete this task. Don&#39;t include any preamble, just respond directly with the instruction for the agent.

Assistant:
</pre></div>
</div>
</div>
</div>
<p>Now let’s execute the few-shot prompt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">few_shot_response</span> <span class="o">=</span> <span class="n">anthropic_client</span><span class="o">.</span><span class="n">completion</span><span class="p">(</span>
    <span class="n">prompt</span><span class="o">=</span><span class="n">few_shot_prompt</span><span class="p">,</span>
    <span class="n">stop_sequences</span><span class="o">=</span><span class="p">[</span><span class="n">anthropic</span><span class="o">.</span><span class="n">HUMAN_PROMPT</span><span class="p">],</span>
    <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
    <span class="n">max_tokens_to_sample</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span>
    <span class="n">temperature</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;TASK:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">concepts</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">concepts</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FEW-SHOT RESPONSE:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">few_shot_response</span><span class="p">[</span><span class="s1">&#39;completion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TASK:

===
Propose structural edits. Recommend cuts or reorganization of content to improve clarity and flow.
===

FEW-SHOT RESPONSE:

===
  Review the following 500-800 word article for clarity and flow:

&lt;article&gt;{{ARTICLE_CONTENT}}&lt;/article&gt;

In no more than 150 words, propose up to 3 structural edits that could:

- Improve the organization and progression of ideas  
- Eliminate repetition or redundant information   
- Combine or split paragraphs to create logical sections

Explain how the proposed edits would make the content more clear and readable, maintaining the author&#39;s intended tone and message.
===
</pre></div>
</div>
</div>
</div>
<p>This looks much better than our original cold attempts. Let’s see if the critical LLM agrees:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FEW-SHOT CRITIQUE:</span><span class="se">\n\n</span><span class="s2">===</span><span class="se">\n</span><span class="si">{</span><span class="n">get_critique_prompt</span><span class="p">(</span><span class="n">few_shot_response</span><span class="p">[</span><span class="s1">&#39;completion&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">get_response</span><span class="p">()</span><span class="si">}</span><span class="se">\n</span><span class="s2">===</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FEW-SHOT CRITIQUE:

===
 The instruction breaks the following rules:

1. 
&lt;rule&gt;Instructions must explicitly describe the tone that the editor adopts.&lt;/rule&gt;   
&lt;reason&gt;The instruction does not explicitly state the tone that the editor should adopt.&lt;/reason&gt;

2.
&lt;rule&gt;Instructions must explicitly state the number of words that the editor&#39;s written response should be, and the number of words should be appropriate for the task.&lt;/rule&gt;
&lt;reason&gt; While the instruction specifies that the editor&#39;s response should be no more than 150 words, proposing 3 structural edits, 150 words may not be enough to sufficiently explain 3 structural edits.&lt;/reason&gt;  

3. The instruction does not break rule 3.

4. The instruction does not break rule 4.
===
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-0-generate-concepts">Step 0: Generate concepts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-generate-naive-responses">Step 1: Generate naive responses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-critique">Step 2: Critique</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-rewrite">Step 3: Rewrite</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-training-a-model">Step 4: Training a model</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Dan Kwiatkowski
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>